<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Word Guess Game</title>
</head>
<body>
    <h1>Press any key to play</h1>  
    <div>
        <p id="directions-text">Press r, p or s to start playing!</p>
        <p id="userGuess-text"></p>
        <p id="songchoice-text"></p>
        <p id="wins-text"></p>
        <p id="losses-text"></p>
        <p id="missedLetters-text"></p>
    </div>
    <script type="text/javascript">
   
        // Creating variables to hold the number of wins, losses, and ties. They start at 0.
            // BUild variables
            var wins = 0;
    var losses = 0;
        var guessesRemaining = 6;
        var underScoreCount= 0;
        var missedLetters = 0; 
        var underScoreCount = 0;
        // BUild arrays
        const songChoice = ["Summertime Sadness", "Summer Loving", "Indian Summer"];
        // Grab user choics
    
        // Create variables that hold references to the places in the HTML where we want to display things.
        var directionsText = document.getElementById("directions-text");
        var userChoiceText = document.getElementById("userGuess-text");
        var songText = document.getElementById("songchoice-text");
        var winsText = document.getElementById("wins-text");
        var lossesText = document.getElementById("losses-text");
        var rando= Math.floor(Math.random() * songChoice.length -1);
        console.log(rando);
        console.log("songCholcelength " + songChoice.length)
        var song = songChoice[rando];
        str = song;
        console.log(song)
        var underScoreCount = str.length;
        console.log("underSCoreCount " + underScoreCount);
        var answerString = "";
        ///convert underscore:
        for (i =0; i <underScoreCount; i++){
            answerString= answerString + " __ "; 
            //or
           // answerArry[i] = push "____"
        }
        console.log(answerString);
    
        // This function is run whenever the user presses a key.
        document.onkeyup = function(event) {
    
          // Determines which key was pressed.
          var userGuess = event.key;
          console.log("userGuess " + userGuess);
    
        
                          // Hide the directions
       directionsText.textContent = "";


        //5 results
        //Comparison of 
        // a) Do we have letters remaining ( underscore Count >0)
        // b) Do we have guesses remaining (Guesses Remaining >0)
        // c) Determine position of userGuess
       // var checkLetter = Str.includes(userGuess)
       // console.log(checkLetter)
        if (guessesRemaining > 0){
            console.log('beginning if statement ' + 'underScoreCount ' + underScoreCount + 'guessesRemaining ' + guessesRemaining)
            if (underScoreCount > 0) {
            var position = str.indexOf(userGuess);
            console.log('position ' + position);
            if(position > -1){
                alert(`you found letter ${userGuess} in position ${position} of song ${song}`);
                underScoreCount = underScoreCount - 1;
                console.log("found a letter " + underScoreCount);
            }else{
                guessesRemaining = guessesRemaining - 1;
                alert(`you have ${guessesRemaining} guesses remaining`);
                console.log('missed a letter ' + guessesRemaining);
            }


        }else{
            alert("you win");
            wins++;
            console.log(wins);
        }            
            alert(" you lose");
            losses++;
            console.log(losses); 
               }
  
// Display the user and computer guesses, and wins/losses/ties.
userGuess.textContent = "You chose: " + userGuess;
songText.textContent = "The computer chose: " + song;
winsText.textContent = "wins: " + wins;
lossesText.textContent = "losses: " + losses;
 
    };


    
    </script> 
</body>
</html>