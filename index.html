<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Word Guess Game</title>
</head>
<body>
    <h1>Press any key to play</h1>  
    <div>
        <p id="directions-text">Pres any key to quess the Word!</p>
        <p id="userGuess-text"></p>
        <p id="songchoice-text"></p>
        <p id="wins-text"></p>
        <p id="losses-text"></p>
        <p id="missedLetters-text"></p>
    </div>
    <script type="text/javascript">
   
        // Creating variables to hold the number of wins, losses, and ties. They start at 0.
            // BUild variables
        var wins = 0;
        var losses = 0;
        var guessesRemaining = 6;
        var underScoreCount= 0;
        console.log('at set var underScoreCount ' + underScoreCount)
        var missedLetters = []; 
        // BUild arrays
        //const songChoice = ["Summertime Sadness", "Summer Loving", "Indian Summer"];
        const songChoice = ["cats", "dog", "piggy"];
        // Grab user choics
    
        // Create variables that hold references to the places in the HTML where we want to display things.
        var directionsText = document.getElementById("directions-text");
        var userChoiceText = document.getElementById("userGuess-text");
        var songText = document.getElementById("songchoice-text");
        var winsText = document.getElementById("wins-text");
        var lossesText = document.getElementById("losses-text");
        var rando= Math.floor(Math.random() * songChoice.length -1);
        console.log(rando);
        console.log("songCholcelength " + songChoice.length)
        var song = songChoice[rando];
       // str = song;
        console.log(song)
        str = song
        var underScoreCount = str.length;
        console.log("underSCoreCount " + underScoreCount);
        var answerArray = [];
        ///convert underscore:
        for (i =0; i <underScoreCount; i++){
            answerArray[i]= " __ "; 
        }
        console.log(answerArray);
        songText.textContent = "The computer chose: " + song;
    
        // This function is run whenever the user presses a key.
        document.onkeyup = function(event) {
    
          // Determines which key was pressed.
          var userGuess = event.key;
          console.log("userGuess " + userGuess);
          console.log('beginning at userGuess ' + 'underScoreCount ' + underScoreCount + 'guessesRemaining ' + guessesRemaining)
         
        
                          // Hide the directions
       directionsText.textContent = "";



        //5 results
        //Comparison of 
        // a) Do we have letters remaining ( underscore Count >0)
        // b) Do we have guesses remaining (Guesses Remaining >0)
        // c) Determine position of userGuess
       // var checkLetter = Str.includes(userGuess)
       // console.log(checkLetter)
        if (guessesRemaining > 0){ 
            console.log(userGuess + ' in guessesRemaining loop' )         
            console.log('beginning if statement ' + 'underScoreCount ' + underScoreCount + 'guessesRemaining ' + guessesRemaining)
            if (underScoreCount > 0){
                Letterfound = 0; 
                console.log(' letterFound' + Letterfound);
                for ( var j = 0; j < song.length; j++){
                    console.log('in loop' + j)
                    if(song[j]===userGuess){
                        console.log('songj ' + song[j])
                        answerArray[j] = userGuess;
                        underScoreCount--;
                        console.log('underScount in j loop ' + underScoreCount);
                        Letterfound = 1;
                    }
                }
                console.log('after for loop letterFound  ' + Letterfound)
                if(Letterfound = 0 ){
                    guessesRemaining--;
                }
                else{
                    alert("your song" + answerArray);
                    if(underScoreCount = 0){ 
                        alert("you win");
                        wins++;
                        console.log(wins)
                    }      
                }
 
            }

            }
            else{
            alert(" you lose");
            losses++;
            console.log(losses);
            }
            // Display the user and computer guesses, and wins/losses/ties.
            userGuess.textContent = "You chose: " + userGuess;
            songText.textContent = "The computer chose: " + song;
            winsText.textContent = "wins: " + wins;
            lossesText.textContent = "losses: " + losses;  

        }  

          
            
 


    
    </script> 
</body>
</html>